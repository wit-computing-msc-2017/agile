

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.10/css/uikit.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.10/js/uikit.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.10/js/uikit-icons.min.js"></script>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-light.min.css"/>
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <style>
    

body {
  font-family: "Open Sans", "Helvetica", "Helvetica Neue",  "Arial", sans-serif;
  font-size:90%;
  color: black;
}

p {
  margin: 0.5em;
}

pre code {
  font-family: "Monaco";
  font-size: 100%;
}

img {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  margin:10px;
}

h1, h2, h3 {
  border-bottom:thin solid black;
  margin-bottom: 0.5em;
  margin-top: 1em;
}

h1 {
  font-style:italic;
  font-size:130%;
}

h2 {
  font-size:110%;
}

h3 {
  font-size:100%;
}



  </style>

  <body class="lab">

    
  <div class="uk-offcanvas-content">
    <div id="offcanvas-usage" uk-offcanvas>
      <div class="uk-offcanvas-bar">
        <button class="uk-offcanvas-close" type="button" uk-close></button>
        <ul class="uk-nav">
          
            
              <li>
                <a class="item" href="http://wit-computing-msc-2017.github.io/agile//topic01-paradigms-and-languages/book-eclipse-and-java/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Lab-01 Eclipse & Java
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-computing-msc-2017.github.io/agile//topic02-java-language/book-cli-and-classes/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Lab-02 CLI & Classes
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-computing-msc-2017.github.io/agile//topic03-inheritance-and-collections/book-objects-and-serialization/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Lab-03 Objects & Serialization
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-computing-msc-2017.github.io/agile//topic04-serialisation-and-tdd-1/book-testing/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Lab-04 Testing
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-computing-msc-2017.github.io/agile//topic05-tdd-2/book-refactoring/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Lab-05 Refactoring
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-computing-msc-2017.github.io/agile//topic06-exceptions-and-maven/book-maven/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Lab-06 Maven
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-computing-msc-2017.github.io/agile//topic08-srp-and-tdd-4/book--assignmment-2-skeleton/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Lab-08 Skeleton
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-computing-msc-2017.github.io/agile//topic09-ocp-and-rest/book-simple-rest-api/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Lab-09 Rest API
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-computing-msc-2017.github.io/agile//topic10-lsp-and-tdd-5-and-kotlin/book-rest-cli-test/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Lab-10 Rest CLI
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-computing-msc-2017.github.io/agile//topic11-isp-dip-and-kotlin/book-pacemaker-service-test/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Lab-11 Rest Test
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-computing-msc-2017.github.io/agile//topic12-tdd-6/book-kotlin-pacemaker-client/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Lab-12 Kotlin
                </a>
              </li>
            
          
        </ul>
      </div>
    </div>
  </div>


    <div uk-sticky>
      <nav class="uk-navbar">
        <div class="uk-navbar-left">
          <ul class="uk-subnav uk-background-secondary uk-subnav-pill">
            <li><a href="#offcanvas-usage" uk-icon="icon: menu" , uk-toggle title="Switch Lab" pos="bottom"
                   uk-tooltip></a></li>
            
              <li class="uk-active"><a href="../index.html" uk-icon="icon: chevron-up" uk-toggle title="Parent Topic"
                                     pos="bottom" uk-tooltip>6: Exceptions & Maven </a></li>
            
          </ul>
        </div>
        <div class="uk-navbar-right">
          <ul class="uk-subnav uk-background-secondary uk-subnav-pill"
              uk-switcher="connect: .switcher-container">
            
              <li><a href="#">Lab-06 Maven</a></li>
            
              <li><a href="#">01</a></li>
            
              <li><a href="#">02</a></li>
            
              <li><a href="#">03</a></li>
            
              <li><a href="#">04</a></li>
            
              <li><a href="#">05</a></li>
            
              <li><a href="#">06</a></li>
            
              <li><a href="#">JUnit5</a></li>
            
              <li><a href="#">Exercises</a></li>
            
          </ul>
        </div>
      </nav>
    </div>

    <div class="uk-container uk-container-expand">
      <ul class="uk-switcher switcher-container">
        
          <li> <h2>Objectives</h2>
<p>In the previous lab, you installed Maven.  In this lab, we will incorporate Maven into  our pacemaker-console-lab05 solution.  We will also use Maven to bring JUnit5 capabilities into Eclipse.  </p>
</li>
        
          <li> <h1>Verify your Maven Installation</h1>
<p>Visit the main Maven site:</p>
<ul>
<li><a href="http://maven.apache.org/">http://maven.apache.org/</a></li>
</ul>
<p>and review some of the general introductions.</p>
<p>Then, enter the command <strong>mvn -version</strong> on your command shell.  You should see output similar to this:</p>
<pre><code>C:\Users\Siobhan&gt;mvn -version

Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-03T20:39:06+01:00)
Maven home: C:\dev\apache-maven-3.5.0\bin\..
Java version: 1.8.0_73, vendor: Oracle Corporation
Java home: C:\Program Files\Java\jdk1.8.0_73\jre
Default locale: en_IE, platform encoding: Cp1252
OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;

C:\Users\Siobhan&gt;</code></pre>
<p>Note the version of the JDK that Maven uses. There are significant differences between 1.6, 1.7, 1.8 and the latest vesrsion 1.9.  In forthcoming labs, we will move to JDK9 (i.e. 1.9).  </p>
<p>If the above <strong>mvn</strong> command isn&#39;t recognised, revisit the steps below to install / fix your installation (maybe you installed it, but your path variables are not right).</p>
<h2>Steps involved in installing Maven</h2>
<p>Download the project archive (note: download the binary and not the source):</p>
<ul>
<li><a href="http://maven.apache.org/download.cgi#">http://maven.apache.org/download.cgi#</a></li>
</ul>
<p>Follow these installations instructions:</p>
<ul>
<li><a href="http://maven.apache.org/install.html">http://maven.apache.org/install.html</a></li>
</ul>
</li>
        
          <li> <h1>5-minute Maven Guide</h1>
<p><em>In this step, you will work through the Maven example we covered in lectures.</em></p>
<p>Navigate to this 5 minute guide:</p>
<ul>
<li><a href="http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html">http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html</a></li>
</ul>
<p>and, in your eclipse workspace directory, perform the steps involved in the <strong>Creating a Project</strong> section.</p>
<p>This will build a starter app called <strong>my-app</strong>.  Familiarise yourself with the struture of the generated folders and, in particular, the <strong>pom.xml</strong>.  Finish the tutorial by executing the generated Jar file.  &quot;Hello World!&quot; should be printed to the console.</p>
<p>For information on writing <strong>pom.xml</strong>, please visit:</p>
<ul>
<li><a href="https://maven.apache.org/pom.html">https://maven.apache.org/pom.html</a></li>
</ul>
</li>
        
          <li> <h1>Pacemaker with Maven Project</h1>
<h2>Review pacemaker project</h2>
<p>You should have the pacemaker project from lab05 in your workspace.  If you don&#39;t have a lab05 pacemaker project, you can download it from here:  </p>
<ul>
<li><a href="https://github.com/wit-computing-msc-2017/pacemaker-console/releases/tag/lab05">https://github.com/wit-computing-msc-2017/pacemaker-console/releases/tag/lab05</a></li>
</ul>
<p>We will now convert this to a Maven-based project and use the Maven Build System to manage our dependencies (i.e. components, JUnit versions, etc).</p>
<h2>Create a starter Maven Project</h2>
<p>Navigate to a suitable folder (i.e. your eclipse workspace that you plan to use for maven projects) and enter the following command to create a starter maven project called <strong>pacemaker-console-maven</strong>:</p>
<pre><code> mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DgroupId=pacemaker -DartifactId=pacemaker-console-maven</code></pre>
<p>If you are asked to enter versions for certain items, just hit the enter key.  Eventually it should complete successfully.</p>
<p>The command will have created the following project structure:</p>
<p><img src="img/002.png" alt=""></p>
<p>The key file to inspect is the generated pom.xml:</p>
<pre><code class="lang-xml">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;pacemaker&lt;/groupId&gt;
  &lt;artifactId&gt;pacemaker-console-maven&lt;/artifactId&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;

  &lt;name&gt;pacemaker-console-maven&lt;/name&gt;
  &lt;url&gt;http://maven.apache.org&lt;/url&gt;

  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
  &lt;/properties&gt;

  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;3.8.1&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;</code></pre>
<h2>Open your project in Eclipse</h2>
<p>Open Eclipse.  On the menu bar, choose <strong>File</strong>, then <strong>Import...</strong>.</p>
<p>When the dialog opens, select <strong>Maven</strong>, then <strong>Existing Maven Projects</strong>.  Locate your<br><strong>pacemaker-console-maven</strong> project and import it.  </p>
<p>If you are using an older version of Eclipse, you <strong>may</strong> need to perform these steps <strong>instead</strong> of the above import.</p>
<ul>
<li>On the command line, change into the pacemaker-console-maven folder and enter the following command:</li>
</ul>
<pre><code>mvn eclipse:eclipse</code></pre>
<ul>
<li><p>This will generate an eclipse project from the pom.</p>
</li>
<li><p>In eclipse, import this project (as an existing project). It should show up on your workspace like this:</p>
</li>
</ul>
<p><img src="img/003.png" alt=""></p>
<h2>Copy paste sources into new project</h2>
<p>Within eclipse, you should be able to copy/paste all of the sources (the .java files only) into the appropriate folder in the new project. Also, delete the maven generated <strong>pacemaker</strong> packages:</p>
<p><img src="img/004.png" alt=""></p>
<p>There are a significant number of errors however, which we will fix in the next step.  These errors have arisen because we haven&#39;t yet included our components (e.g. XStream, Cliche, etc) in the project. We are going to get Maven to manage this for us!</p>
</li>
        
          <li> <h2>Incorporate Correct Library References</h2>
<p>Inspect the pacemaker-console-maven folder, open and review the &quot;pom.xml&quot; file.</p>
<pre><code class="lang-xml">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;pacemaker&lt;/groupId&gt;
  &lt;artifactId&gt;pacemaker-console-maven&lt;/artifactId&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;

  &lt;name&gt;pacemaker-console-maven&lt;/name&gt;
  &lt;url&gt;http://maven.apache.org&lt;/url&gt;

  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
  &lt;/properties&gt;

  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;3.8.1&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;</code></pre>
<p>Modify the &quot;url&quot; and &quot;version&quot; elements to be more consistent with our project:</p>
<pre><code class="lang-xml">  &lt;version&gt;1.0&lt;/version&gt;
  &lt;url&gt;www.wit.ie&lt;/url&gt;</code></pre>
<p>A note on Version VS SNAPSHOT: </p>
<ul>
<li><em>Version</em>: if Maven previously downloaded the specified version, say 1.0, it will never try to download a newer 1.0 that is available in repository. To download the updated code, the version is be upgraded to 1.1. </li>
<li><em>SNAPSHOT</em>: Maven will automatically fetch the latest SNAPSHOT (e.g. 1.0-SNAPSHOT) everytime the team builds their project.</li>
</ul>
<h2>Java version</h2>
<p>Let&#39;s ensure that we are using Java9 for our application.  We can specifically enable this version by extending the <strong><properties></strong> section as follows:</p>
<pre><code class="lang-xml">  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;maven.compiler.source&gt;1.9&lt;/maven.compiler.source&gt;
    &lt;maven.compiler.target&gt;1.9&lt;/maven.compiler.target&gt;
  &lt;/properties&gt;</code></pre>
<p>As the JDK is not a <strong><dependency></strong>, you need to have JDK9 installed on your computer for this to be effective.</p>
<h2>JUnit version</h2>
<p>The junit version in the generated POM is an older version (3.8.1), acquire and configure the 4.12 version:</p>
<pre><code class="lang-xml">    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;4.12&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;</code></pre>
<h2>Incorporating our components/libraries</h2>
<p>We are using a range of libraries (Cliche, Guava, XStream, Ascii tables), which we must incorporate as dependencies into the pom.  Note that we are not including the Ascii Tables component in the dependencies...we will add the Jar file from last weeks labs as a local M2 repo file instead (next step).</p>
<pre><code class="lang-xml">&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;
    &lt;artifactId&gt;guava&lt;/artifactId&gt;
    &lt;version&gt;23.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- https://mvnrepository.com/artifact/com.thoughtworks.xstream/xstream --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;
    &lt;artifactId&gt;xstream&lt;/artifactId&gt;
    &lt;version&gt;1.4.10&lt;/version&gt;
&lt;/dependency&gt;
    &lt;!-- https://mvnrepository.com/artifact/com.googlecode.clichemaven/cliche --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.googlecode.clichemaven&lt;/groupId&gt;
    &lt;artifactId&gt;cliche&lt;/artifactId&gt;
    &lt;version&gt;110413&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
<h2>Complete POM</h2>
<p>The full version of the POM should look like this:</p>
<pre><code class="lang-xml">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;pacemaker&lt;/groupId&gt;
  &lt;artifactId&gt;pacemaker-console-maven&lt;/artifactId&gt;
  &lt;version&gt;1.0&lt;/version&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;

  &lt;name&gt;pacemaker-console-maven&lt;/name&gt;
  &lt;url&gt;www.wit.ie&lt;/url&gt;

  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
  &lt;/properties&gt;

  &lt;dependencies&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;4.12&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;
      &lt;artifactId&gt;guava&lt;/artifactId&gt;
      &lt;version&gt;23.0&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- https://mvnrepository.com/artifact/com.thoughtworks.xstream/xstream --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;
      &lt;artifactId&gt;xstream&lt;/artifactId&gt;
      &lt;version&gt;1.4.10&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- https://mvnrepository.com/artifact/com.googlecode.clichemaven/cliche --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.googlecode.clichemaven&lt;/groupId&gt;
      &lt;artifactId&gt;cliche&lt;/artifactId&gt;
      &lt;version&gt;110413&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;</code></pre>
<p>To ensure that the maven file is correct, return to your command prompt and enter the following command:</p>
<pre><code>mvn validate</code></pre>
<p>This will pick up any format errors in the POM, although it will not check availability of the dependencies.</p>
<pre><code>C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven&gt;mvn validate

[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building pacemaker-console-maven 1.0
[INFO] ------------------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 0.147 s
[INFO] Finished at: 2017-10-10T12:17:09+01:00
[INFO] Final Memory: 6M/155M
[INFO] ------------------------------------------------------------------------

C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven&gt;</code></pre>
</li>
        
          <li> <h1>Build</h1>
<h2>Attempting to compile and test</h2>
<p>In your command prompt/shell, type in <strong>mvn test</strong>.  It will fail because maven cannot resolve the ASCII Table dependency:</p>
<pre><code>[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.874 s
[INFO] Finished at: 2017-10-10T13:26:39+01:00
[INFO] Final Memory: 14M/164M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project pacemaker-console-maven: Compilation failure: Compilation failure:
[ERROR] /C:/Users/Siobhan/Desktop/agile workspace/pacemaker-console-maven/src/main/java/controllers/Main.java:[8,34] package com.bethecoder.ascii_table does not exist
[ERROR] /C:/Users/Siobhan/Desktop/agile workspace/pacemaker-console-maven/src/main/java/controllers/Main.java:[9,39] package com.bethecoder.ascii_table.impl does not exist
[ERROR] /C:/Users/Siobhan/Desktop/agile workspace/pacemaker-console-maven/src/main/java/controllers/Main.java:[10,39] package com.bethecoder.ascii_table.spec does not exist
[ERROR] /C:/Users/Siobhan/Desktop/agile workspace/pacemaker-console-maven/src/main/java/controllers/Main.java:[47,5] cannot find symbol
[ERROR]   symbol:   class IASCIITableAware
[ERROR]   location: class controllers.Main
[ERROR] /C:/Users/Siobhan/Desktop/agile workspace/pacemaker-console-maven/src/main/java/controllers/Main.java:[47,44] cannot find symbol
[ERROR]   symbol:   class CollectionASCIITableAware
[ERROR]   location: class controllers.Main
[ERROR] /C:/Users/Siobhan/Desktop/agile workspace/pacemaker-console-maven/src/main/java/controllers/Main.java:[48,5] cannot find symbol
[ERROR]   symbol:   variable ASCIITable
[ERROR]   location: class controllers.Main
[ERROR] -&gt; [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException

C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven&gt;</code></pre>
<h2>Resolving ASCII Table Issue</h2>
<p>We have a local ASCII Table Jar (from last weeks labs) that we want to include in project.  Note that we could use the version that is in the public maven repo, however, we want to demonstrate installing Jars in local repos...so we will do it with the ASCII Table Jar. </p>
<p>Locate the jar from your previous project...it should be in your lib folder and should be called java-ascii-table-1.0.jar.  If you cannot find it, you can download it from <a href="archives/java-ascii-table-1.0.jar">here</a>.</p>
<p>Create a, say, <strong>resources</strong> folder in your <strong>..\pacemaker-console-maven\src\main</strong> directory and place your jar file in there.</p>
<p>In your command prompt/shell, navigate to this new folder and enter the following command:</p>
<pre><code>mvn install:install-file -Dfile=java-ascii-table-1.0.jar -DgroupId=java-ascii-table -DartifactId=java-ascii-table -Dversion=1.0 -Dpackaging=jar</code></pre>
<p>This will install the jar file in the local .m2 repository.  In windows, this repo is located in a similar directory structure to this:  <strong>C:\Users\Siobhan.m2</strong></p>
<pre><code>C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven\src\main\resources&gt;mvn install:install-file -Dfile=java-ascii-table-1.0.jar -DgroupId=java-ascii-table -DartifactId=java-ascii-table -Dversion=1.0 -Dpackaging=jar

[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Maven Stub Project (No POM) 1
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- maven-install-plugin:2.4:install-file (default-cli) @ standalone-pom ---
[INFO] Installing C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven\src\main\resources\java-ascii-table-1.0.jar to C:\Users\Siobhan\.m2\repository\java-ascii-table\java-ascii-table\1.0\java-ascii-table-1.0.jar
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 0.634 s
[INFO] Finished at: 2017-10-10T16:45:17+01:00
[INFO] Final Memory: 7M/123M
[INFO] ------------------------------------------------------------------------

C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven\src\main\resources&gt;</code></pre>
<p>In your pom.xml, add the following dependency to our locally installed java-ascii-table:</p>
<pre><code class="lang-xml">        &lt;dependency&gt;
            &lt;groupId&gt;java-ascii-table&lt;/groupId&gt;
            &lt;artifactId&gt;java-ascii-table&lt;/artifactId&gt;
            &lt;version&gt;1.0&lt;/version&gt;
        &lt;/dependency&gt;</code></pre>
<h2>Build Goal</h2>
<p>In your command prompt/shell, return to your &quot;pacemaker-console-maven&quot; project folder where your pom.xml is stored. Type the following:</p>
<pre><code>mvn test</code></pre>
<p>A broad range of downloads will be generated by this command, including updates to maven itself and the referenced libraries. If successful, the build process will eventually report successful test execution.</p>
<p>Locate and inspect the generated &quot;target&quot; folder in the pacemaker-console-maven project.</p>
<p><strong>Note</strong>: if you used Joda Time in your lab last week, you will also need to include the required dependency, most likely:</p>
<pre><code class="lang-xml">&lt;dependency&gt;
  &lt;groupId&gt;joda-time&lt;/groupId&gt;
  &lt;artifactId&gt;joda-time&lt;/artifactId&gt;
  &lt;version&gt;2.9.9&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
<h2>Regenerate the Project in Eclipse (for older versions of eclipse)</h2>
<p>If you are using an older version of Eclipse, you may need to refresh the project in Eclipse (i.e. this will resolve any perceived compile errors).  </p>
<p>Return back to the root directory of the project and regenerate the eclipse project to eliminate the errors:</p>
<pre><code>mvn eclipse:eclipse</code></pre>
<p>When this command is finished running, refresh (F5) the project in Eclipse, and the errors should be gone. You should be able to run the project and also run the test from within eclipse.</p>
<h2>Package Goal</h2>
<p>Try the following command:</p>
<pre><code>mvn package</code></pre>
<p>This should generate a pacemaker-console-maven-1.0.jar file in the target folder.</p>
<h2>Run the app from the command line</h2>
<p>To execute the application within your command prompt/shell, enter:</p>
<pre><code>mvn exec:java -Dexec.mainClass=&quot;controllers.Main&quot;</code></pre>
</li>
        
          <li> <h1>Explore the local repo and use launch scripts</h1>
<h2>Local Repository</h2>
<p>Locate the local maven repository - it should be in your <strong>home folder/.m2/repository</strong>. It contains not just dependencies explicitly downloaded as part of the project you have just constructed, but also components downloaded by maven as part of the goals you have invoked. This may include components used by maven itself.</p>
<p>If you examine the repository, and recall the naming system we adopted for the Ascii Table component, then you can locate the generated jar file.</p>
<h3>Install Goal</h3>
<p>We can install the component we just generated into the local maven repository.  To do this, navigate to the folder containing your pom.xml and type:</p>
<pre><code>mvn install</code></pre>
<p>In the output from the install command, you can see the directory structure associated with the install of your pacemaker jar file. </p>
<pre><code>[INFO]
[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ pacemaker-console-maven ---
[INFO] Building jar: C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven\target\pacemaker-console-maven-1.0.jar
[INFO]
[INFO] --- maven-install-plugin:2.4:install (default-install) @ pacemaker-console-maven ---
[INFO] Installing C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven\target\pacemaker-console-maven-1.0.jar to C:\Users\Siobhan\.m2\repository\pacemaker\pacemaker-console-maven\1.0\pacemaker-console-maven-1.0.jar
[INFO] Installing C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven\pom.xml to C:\Users\Siobhan\.m2\repository\pacemaker\pacemaker-console-maven\1.0\pacemaker-console-maven-1.0.pom
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3.548 s
[INFO] Finished at: 2017-10-11T14:25:26+01:00
[INFO] Final Memory: 11M/155M
[INFO] ------------------------------------------------------------------------

C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven&gt;</code></pre>
<h2>Windows Launch Script</h2>
<p>Executing the component from the command line requires a review of the locations of the generated jar file, and the associated libraries. The previous step will have centralized all of these into the maven 2 repository HOME/.m2/repository. The simplest mechanism for launching the application will be to compose a shell script.</p>
<p>The following Windows batch file contains the launch script to construct the classpath appropriately:</p>
<pre><code>echo off

set M2_REPO=C:/Users/Siobhan/.m2/repository

set CLASSPATH=.;%CLASSPATH%;%M2_REPO%/pacemaker/pacemaker-console-maven/1.0/pacemaker-console-maven-1.0.jar;%M2_REPO%/com/thoughtworks/xstream/xstream/1.4.10/xstream-1.4.10.jar;%M2_REPO%/com/google/guava/guava/23.0/guava.23.0.jar;%M2_REPO%/com/googlecode/clichemaven/cliche/110413/cliche-110413.jar;%M2_REPO%/java-ascii-table/java-ascii-table/1.0/java-ascii-table-1.0.jar;%M2_REPO%/joda-time/joda-time/1.0/joda-time-2.9.9.jar;

java controllers.Main</code></pre>
<p>The first <em>set</em> command establishes the M2_REPO environment variable to abbreviate the location of the maven repository.  You will need to change this to reflect your directory structure.
The second <em>set</em> command establishes the CLASSPATH environment variable to include the pacemaker jar file, and also the required libraries (also located in the repository). 
The final entry is the launch command itself, which invokes the main method in the appropriate class.</p>
<p>The script is very sensitive to cases, semicolons and the presence of whitespace. Also, note carefully the structure of the M2_REPO folder path in particular.</p>
<h2>Unix Launch Script</h2>
<p>On Unix/Linux/OS X, the script can be structured as follows...you will need to change it for your own directory strucutre, etc:</p>
<pre><code>M2_REPO=/Users/edeleastar/.m2/repository

export CLASSPATH=%CLASSPATH%:\
${M2_REPO}/pacemaker/pacemaker-console-maven/1.0/pacemaker-console-maven-1.0.jar:\
${M2_REPO}/com/thoughtworks/xstream/xstream/1.4.10/xstream-1.4.10.jar:\
${M2_REPO}/com/google/guava/guava/23.0/guava.23.0.jar:\
${M2_REPO}/com/googlecode/clichemaven/cliche/110413/cliche-110413.jar:\
${M2_REPO}/java-ascii-table/java-ascii-table/1.0/java-ascii-table-1.0.jar:\
${M2_REPO}/joda-time/joda-time/1.0/joda-time-2.9.9.jar

java controllers.Main</code></pre>
<h2>Launching the app from the command prompt</h2>
<p>Based on your OS, run the desired script.  For example:</p>
<pre><code>C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven&gt;dir
 Volume in drive C is Windows
 Volume Serial Number is C6F4-3FE3

 Directory of C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven

11/10/2017  14:59    &lt;DIR&gt;          .
11/10/2017  14:59    &lt;DIR&gt;          ..
11/10/2017  14:22             1,808 .classpath
11/10/2017  14:22               472 .project
11/10/2017  15:02               592 datastore.txt
11/10/2017  14:49               510 launch.bat
11/10/2017  14:21             1,803 pom.xml
10/10/2017  11:48    &lt;DIR&gt;          src
11/10/2017  14:59    &lt;DIR&gt;          target
11/10/2017  14:59             6,157 testdatastore.xml
               6 File(s)         11,342 bytes
               4 Dir(s)  59,893,538,816 bytes free

C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven&gt;launch

C:\Users\Siobhan\Desktop\agile workspace\pacemaker-console-maven&gt;echo off
Welcome to pacemaker-console - ?help for instructions
pm&gt;</code></pre>
<p>See above...you should expect to be presented with the pacemaker console user interface.  </p>
</li>
        
          <li> <h1>Maven and JUnit5</h1>
<p>Eclipse Oxygen.1a (4.7.1a) comes with JUnit5 support:</p>
<ul>
<li><a href="https://marketplace.eclipse.org/content/junit-5-support-oxygen">https://marketplace.eclipse.org/content/junit-5-support-oxygen</a></li>
</ul>
<p>However, as an additional Maven exercise, we will install it via Maven for our pacemaker project.  </p>
<p>Note: that it is <strong>infinitely</strong> easier to use the JUnit5 support directly in Eclipse...this approach is just to show you another aspect of Maven (build and properties)!  For future projects, you can simply add JUnit5 to your build path (Java build path --&gt; Libraries --&gt; Add Library --&gt; JUnit --&gt; JUnit 5).</p>
<h2>JUnit Maven Surefire plugin</h2>
<p>The JUnit team has developed a very basic provider for Maven Surefire that lets you run JUnit 4 and JUnit5 (Jupiter) tests via <strong>mvn test</strong>.</p>
<p>Briefly review the <strong>junit5-maven-consumer</strong> project:</p>
<ul>
<li><a href="https://github.com/junit-team/junit5-samples">https://github.com/junit-team/junit5-samples</a></li>
</ul>
<p>We will now incorporate FirstTest.java and SecondTest.java into our pacemaker-console-maven project.  Once we are satisfied that our JUnit5 tests are running correctly via maven, we will then update some of our existing pacemaker JUnit4 tests to JUnit5.</p>
<h2>Incorporating JUnit5 capabilities in pom.xml</h2>
<p>Edit the pom.xml file in your <strong>pacemaker-console-maven</strong> project to include the following.  Note if you have a <strong><build></strong> element in your pom already, just add this plugin to it:</p>
<pre><code class="lang-XML">   &lt;build&gt;
         &lt;!-- included for JUnit 5 --&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.1&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;source&gt;1.8&lt;/source&gt;
                    &lt;target&gt;1.8&lt;/target&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;</code></pre>
<p>In pom.xml, edit the properties tag to include the following three JUnit5 properties:</p>
<pre><code class="lang-xml">    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
        &lt;!-- included for JUnit 5 --&gt;
        &lt;junit.jupiter.version&gt;5.0.0&lt;/junit.jupiter.version&gt;
        &lt;junit.platform.version&gt;1.0.0&lt;/junit.platform.version&gt;
        &lt;junit.platform.version&gt;1.0.0&lt;/junit.platform.version&gt;
    &lt;/properties&gt;</code></pre>
<p>Finally, edit the pom.xml to include the following three dependencies:</p>
<pre><code class="lang-xml">        &lt;!-- included for JUnit 5 (3 dependencies) --&gt;        
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;
            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;
            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;
            &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;
            &lt;version&gt;${junit.platform.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;</code></pre>
<p>Save pom.xml and run the command, <strong>mvn validate</strong> to ensure that your pom.xml is ok. </p>
<h2>Writing your first JUnit5 tests</h2>
<p>In the test/controllers package, we can test the JUnit5 dependency by creating this class: </p>
<pre><code class="lang-java">package controllers;

//source:  https://github.com/junit-team/junit5-samples

import static org.junit.jupiter.api.Assertions.assertEquals;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.TestInfo;
import org.junit.platform.runner.JUnitPlatform;
import org.junit.runner.RunWith;

@RunWith(JUnitPlatform.class) 
class FirstTest {

    @Test
    @DisplayName(&quot;My 1st JUnit 5 test!&quot;)
    void myFirstTest(TestInfo testInfo) {
        assertEquals(2, 1 + 1, &quot;1 + 1 should equal 2&quot;);
        assertEquals(&quot;My 1st JUnit 5 test!&quot;, testInfo.getDisplayName(), () -&gt; &quot;TestInfo is injected correctly&quot;);
    }

}</code></pre>
<p>Run <strong>mvn test</strong>. The output should show that <strong>FirstTest</strong> JUnit5 tests ran successfully.</p>
<pre><code>-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running controllers.FirstTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.051 sec - in controllers.FirstTest
Running controllers.PacemakerAPITest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.081 sec - in controllers.PacemakerAPITest
Running controllers.PersistenceTest
Security framework of XStream not initialized, XStream is probably vulnerable.
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.346 sec - in controllers.PersistenceTest
Running models.ActivityTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in models.ActivityTest
Running models.LocationTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in models.LocationTest
Running models.UserTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in models.UserTest

Results :

Tests run: 19, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 5.529 s
[INFO] Finished at: 2017-10-11T15:41:11+01:00
[INFO] Final Memory: 17M/188M
[INFO] ------------------------------------------------------------------------</code></pre>
<h2>Adding a second test class</h2>
<p>Now that JUnit5 is recognised by your app, create another test class in the test/controllers package:</p>
<pre><code class="lang-java">package controllers;

//source:  https://github.com/junit-team/junit5-samples

import static org.junit.jupiter.api.Assertions.assertEquals;
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.Test;
import org.junit.platform.runner.JUnitPlatform;
import org.junit.runner.RunWith;

@RunWith(JUnitPlatform.class) 
class SecondTest {

    @Test
    @Disabled
    void mySecondTest() {
        assertEquals(2, 1, &quot;2 is not equal to 1&quot;);
    }

}</code></pre>
<p>Save it and re-run <strong>mvn test</strong> again.  Your output should now show that you ran 20 tests with one skipped:</p>
<pre><code>Tests run: 20, Failures: 0, Errors: 0, Skipped: 1

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 4.883 s
[INFO] Finished at: 2017-10-11T15:43:58+01:00
[INFO] Final Memory: 16M/183M
[INFO] ------------------------------------------------------------------------</code></pre>
<p>If required, use the command <strong>mvn eclipse:eclipse</strong> to refresh eclipse.  </p>
<h2>Running JUnit5 inside Eclipse</h2>
<p>Now that we have JUnit5 running form the Maven console, we will now focus on running JUnit5 through Eclipse.  </p>
<p>When you right click on any JUnit5 test class e.g. FirstTests.java and select the <strong>Run as</strong> option, you will now be presented with an option to run it as a JUnit Test.  </p>
<p><img src="img/010.png" alt=""></p>
<p>If we ran the entire suite of tests that we have (note they are a mix of JUnit 4 and JUnit 5), we should now get this output:</p>
<p><img src="img/011.png" alt=""></p>
<p>Note that the JUnit output from a JUnit5 test is different to that of a JUnit4.  In JUnit 4, the test methods are all listed below.  But in the JUnit 5 test, when all tests are successful, the test runner is listed instead, regardless of the number of test methods in the class.  </p>
<p>Experiment with JUnit5 by adding extra methods to your JUnit5 class and also force a fail on one of these extra methods.  This will get you used to the JUnit5 functionality in Eclipse. I&#39;ve provided a sample of this experimentation appraoch here:</p>
<p><img src="img/012.png" alt=""></p>
</li>
        
          <li> <h1>Exercises</h1>
<p>The complete maven project so far:</p>
<ul>
<li><a href="archives/pacemaker-console-maven.zip">pacemaker-console-maven.zip</a></li>
</ul>
<h2>Exercise 1</h2>
<p>The purpose of the JUnit5 step was to incorporate JUnit5 capabilities into both the maven build of <strong>pacemaker-console-maven</strong> and the Eclipse IDE, whilst verifying that the JUnit5 tests were running correctly.  </p>
<p>You are now in a position to refactor any of your pacemaker tests from JUnit4 to JUnit5, should you wish to do so.  </p>
<p>Note: you can delete the FirstTest and SecondTest classes as they were only for verification purposes.</p>
<h2>Exercise 2</h2>
<p><em>In this exercise, we will experiment with the submlime editor and make our code changes in it, as opposed to using Eclipse. We will then use the Maven console to compile, test and run these changes.</em></p>
<p>Install the following editor:</p>
<ul>
<li><a href="http://www.sublimetext.com/">http://www.sublimetext.com/</a></li>
</ul>
<p>Note that by just dragging / dropping a folder into the editor window a &#39;project&#39; view is presented, not unlike the package view in Eclipse. This includes syntax highlighting, but not of course refactoring or debugging.</p>
<p>Make a superficial change to the user interface of the pacemaker application - a different greeting for example. Just using maven - and the execution scripts we have covered in the previous steps, build, test and interactively execute the application.</p>
<h2>Exercise 3</h2>
<p>In the Presentation column of our Assignment 1 marking rubric, you will notice the Outstanding grade references <strong>Enhanced</strong> presentation.  </p>
<p><img src="img/013.png" alt=""></p>
<p>Here, one option could be to use coloured console output.  This is a good discussion on applicable components that could be used:</p>
<ul>
<li><a href="https://stackoverflow.com/questions/435740/are-there-good-java-libraries-that-facilitate-building-command-line-applications">https://stackoverflow.com/questions/435740/are-there-good-java-libraries-that-facilitate-building-command-line-applications</a></li>
</ul>
<p>Note that the top recommended library is:</p>
<ul>
<li><a href="https://github.com/jline/jline3">https://github.com/jline/jline3</a></li>
</ul>
<p>A demo of the JLine3 CLI in use is here:</p>
<ul>
<li><a href="https://github.com/jline/jline3/wiki/Demos">https://github.com/jline/jline3/wiki/Demos</a></li>
</ul>
<p>And an example of JLine3 code:</p>
<ul>
<li><a href="https://github.com/jline/jline3/blob/master/builtins/src/test/java/org/jline/example/Example.java">https://github.com/jline/jline3/blob/master/builtins/src/test/java/org/jline/example/Example.java</a></li>
</ul>
<p>If you are planning on adding such a component to your assignment, use Maven to incorporate the appropriate dependency references into the pom file and experiment with the functionality.</p>
<ul>
<li><a href="http://mvnrepository.com/">http://mvnrepository.com/</a></li>
</ul>
<p>Remember, the steps involved in bringing in a new library:</p>
<ul>
<li>incorporate the dependency into the pom</li>
<li>do a build or test (via maven) </li>
<li>regenerate the eclipse project using &#39;mvn eclipse:eclipse&#39;</li>
<li>refresh the project in eclipse</li>
</ul>
</li>
        
      </ul>
    </div>

    <script>
      $(document).ready(function() {
  const $images = $('.lab img');
  jQuery.each($images, function(i) {
    if ($images[i].alt.length > 0) {
      const divImg = $(document.createElement('div')).addClass('');
      $($images[i]).wrap(divImg);
      const divLabel = $(document.createElement('div')).addClass('uk-label uk-text-lowercase');
      divLabel.append($images[i].alt);
      $(divLabel).insertAfter($images[i]);
      $('<br>').insertAfter($images[i]);
    }
  });
});

    </script>
  </body>
</html>